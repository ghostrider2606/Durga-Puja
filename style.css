@tailwind base;
@tailwind components;
@tailwind utilities;

/* --- Global Styles & Variables --- */
:root {
  --primary-color: #6200ffe1;   /* Festive Gold (accent) */
  --secondary-color: #6200ffe1; /* Sindoor Red (accent) */
  --background-color: #FFF8E1;  /* Creamy White */
  --text-color: #888080;
  --dark-accent: #ffffff;
  --card-bg: rgba(104, 96, 96, 0.8);
}

@layer base {
  * { @apply m-0 p-0 box-border; }
  html { @apply scroll-smooth; }
  body {
    @apply overflow-x-hidden leading-8;
    font-family: 'Poppins', sans-serif;
    background-color: var(--background-color);
    color: var(--text-color);
  }
  h1, h2, h3 {
    font-family: 'Lora', serif;
    font-weight: 600;
  }
  a { @apply no-underline; color: inherit; }
}

/* --- Parallax Hero Section --- */
@layer components {
  .hero {
    @apply relative h-screen flex items-center justify-center text-center overflow-hidden text-white;
  }
  .parallax-layer {
    @apply absolute inset-0 bg-center bg-cover;
  }
  .layer-bg {
    background-image: linear-gradient(rgba(255,255,255,0.4), rgba(255,255,255,0)),
      url('https://wallpapers.com/images/hd/kolkata-durga-puja-pandal-byuor98wtzthvoxa.jpg');
    z-index: 0; opacity: 1;
  }
  .layer-mid { @apply bg-contain bg-no-repeat; z-index: 0; opacity: 1; }
  .layer-front { z-index: 0; opacity: 1; }

  .hero-content {
    @apply z-10 p-5;
    text-shadow: 2px 2px 15px rgba(0, 0, 0, 0.7);
    /* Subtle load-in animation */
    @apply motion-safe:animate-[rise_700ms_ease-out_forwards];
    opacity: 0;
  }

  .hero h1 {
    @apply text-5xl md:text-7xl mb-2.5;
    color: var(--primary-color);
  }
  .hero p { @apply text-xl md:text-2xl mb-8; }

  .cta-button {
    @apply inline-block font-semibold px-9 py-3 rounded-full border-2 transition-all duration-300 shadow-md;
    background-color: var(--primary-color);
    color: var(--dark-accent);
    border-color: var(--primary-color);
    box-shadow: 0 5px 15px rgba(0,0,0,0.3);
  }
  .cta-button:hover {
    @apply -translate-y-1;
    background-color: transparent;
    color: var(--primary-color);
  }

  /* --- Content Sections --- */
  .content-section {
    @apply text-center py-24 px-[5%] relative bg-center bg-no-repeat bg-cover;
    background-attachment: fixed;
  }

  .section-title {
    @apply text-4xl md:text-5xl mb-5 relative;
    color: var(--secondary-color);
  }
  .section-title::after {
    content: '';
    display: block;
    width: 80px; height: 3px;
    background: var(--primary-color);
    margin: 15px auto; border-radius: 5px;
  }

  .section-intro { @apply text-[1.1rem] max-w-[800px] mx-auto mb-14; }

  /* --- The Five Days Cards --- */
  .days-container {
    @apply grid gap-7;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    text-align: left;
  }

  .day-card {
    @apply rounded-2xl p-8 transition-all duration-300 border shadow-xl backdrop-blur;
    background: var(--card-bg);
    border-color: rgba(212, 55, 55, 0.3);
    border-left: 5px solid var(--secondary-color);
  }
  .day-card:hover {
    @apply -translate-y-2.5 shadow-2xl;
  }
  .day-card h3 {
    @apply text-[1.8rem] mb-3.5;
    color: var(--secondary-color);
  }

  /* --- Gallery Section --- */
  .gallery-grid {
    @apply grid gap-6 mt-12;
    grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
  }
  .gallery-item {
    @apply relative overflow-hidden rounded-2xl shadow-2xl;
    aspect-ratio: 1 / 1;
  }
  .gallery-item img {
    @apply w-full h-full object-cover transition-transform;
    transition-timing-function: cubic-bezier(0.25,0.46,0.45,0.94);
    transition-duration: .4s;
  }
  .gallery-item:hover img { @apply scale-110; }

  .overlay {
    @apply absolute inset-0 text-white flex items-end justify-center p-5 opacity-0 transition-opacity duration-300;
    background: linear-gradient(to top, rgb(78,0,0), transparent);
    font-family: 'Lora', serif;
    font-size: 1.8rem; font-weight: 600;
  }
  .gallery-item:hover .overlay { @apply opacity-100; }

  /* --- Footer --- */
  footer {
    @apply text-center py-10 mt-12;
    background: var(--dark-accent);
    color: var(--primary-color);
  }

  /* --- On-Scroll Animation (JS toggles .is-visible) --- */
  .animate-on-scroll {
    @apply opacity-0 translate-y-10;
    transition: opacity 0.6s ease-out, transform 0.8s ease-out;
    will-change: opacity, transform;
  }
  .animate-on-scroll.is-visible { @apply opacity-100 translate-y-0; }

  /* Stagger (structural nth-child retained) */
  .animate-on-scroll:nth-child(2) { transition-delay: 0.1s; }
  .animate-on-scroll:nth-child(3) { transition-delay: 0.2s; }
  .animate-on-scroll:nth-child(4) { transition-delay: 0.3s; }
  .animate-on-scroll:nth-child(5) { transition-delay: 0.4s; }

  /* --- Per-Section Fixed Background Images --- */
  #about {
    background-image:
      linear-gradient(rgba(255,255,255,0.9), rgba(255,255,255,0.1)),
      url('https://www.shutterstock.com/shutterstock/videos/1106902317/thumb/1.jpg');
  }
  #puja-days {
    background-image:
      linear-gradient(rgba(255,255,255,0.9), rgba(255,255,255,0.1)),
      url('https://www.shutterstock.com/shutterstock/videos/1106902317/thumb/1.jpg?ip=x480');
  }
  #gallery {
    background-image:
      linear-gradient(rgba(255,255,255,0.9), rgba(255,255,255,0.1)),
      url('https://www.shutterstock.com/shutterstock/videos/1106902317/thumb/1.jpg');
  }

  /* Readability tweak preserved */
  .day-card { background: rgba(255, 255, 255, 0.2); }

  /* Content wrapper */
  .content-wrapper { @apply max-w-[1100px] mx-auto; }

  /* Footnote & custom IDs */
  #footnote { @apply text-2xl font-black; color: var(--secondary-color); }
  #darker-text { color: #ffffff; }
  #darkerer-text {
    color: #ffffffd8;
    font-size: 24px; font-weight: 400; font-family: 'Poppins';
  }
}

/* --- Responsive Typography (keeping your sizes) --- */
@media (max-width: 768px) {
  .hero h1 { @apply text-4xl; }
  .hero p { @apply text-lg; }
  .section-title { @apply text-4xl; }
}

/* --- Lucrative UI/UX Enhancements (motion-safe) --- */
@layer utilities {
  /* Parallax depth utilities for mid/front layers (optional JS to adjust translateY on scroll) */
  .parallax-slow  { transform: translateY(calc(var(--scroll, 0px) * 0.15)); will-change: transform; }
  .parallax-fast  { transform: translateY(calc(var(--scroll, 0px) * 0.35)); will-change: transform; }

  /* Focus ring helper for interactive elems */
  .ring-focus {
    @apply outline-none focus-visible:ring-2 focus-visible:ring-[var(--primary-color)]
           focus-visible:ring-offset-2 focus-visible:ring-offset-[var(--background-color)];
  }

  /* Subtle scale on hover for CTAs/cards */
  .hover-lift { @apply transition-transform duration-200 will-change-transform; }
  .hover-lift:hover { @apply -translate-y-1; }

  /* Keyframes */
  @keyframes rise {
    from { opacity: 0; transform: translateY(18px) scale(.98); }
    to   { opacity: 1; transform: translateY(0) scale(1); }
  }
}

/* ---- Notes ----
1) Keep your existing HTML class names; this CSS replaces style rules using Tailwindâ€™s @apply.
2) For richer parallax on .layer-mid/.layer-front, set CSS var --scroll via a small JS scroll handler:
     document.documentElement.style.setProperty('--scroll', window.scrollY + 'px')
   and add .parallax-slow / .parallax-fast to those layers.
3) Add .ring-focus to buttons/links/inputs for accessible focus states; add .hover-lift to cards/CTAs.
*/
